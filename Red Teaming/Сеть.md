## Прослушивание трафика
- [Wireshark](https://www.wireshark.org/)
- tcpdump: `sudo tcpdump -i eth0 -nn -s0 -w <file.pcap> <filters>` (`-nn` - без DNS-имен вместо IP-адресов, без названий служб вместо номеров портов, `-s0` - захват целого пакета)
- tshark - отображение пакетов из PCAP-файла в терминале: `tshark -r <file.pcap>`
## MiTM
### Cheatsheet
- [MITM-cheatsheet](https://github.com/frostbits-security/MITM-cheatsheet)
### Инструменты
- Ettercap
- bettercap
## Spoofing
 LLMNR/NBT-NS/MDNS Spoofing: 
 - NBNSpoof
 - Metasploit
 - Responder
## Прокси
### Внешние инструменты
- GOST (GO Simple Tunnel): https://gost.run/en/
	- `gost -L=:8080` (HTTP/SOCKS5 прокси)
	 - `gost -L=admin:123456@localhost:8080` (Прокси с аутентификацией)
- socat: `socat TCP4-LISTEN:<lport>,fork TCP4:<redirect IP>:<rport>` (`lport` - порт, который будет открыт на узле, где запущен socat; `redirect_ip` - адрес, куда будет направлен трафик с узла; `rport` - адрес порта, куда будет отправлен трафик)
- Meterpreter: `meterpreter > portfwd add –l 3389 –p 3389 –r <target host>` (команда, выполняемая внутри Meterpreter, делает проброс порта с локального порта 3389 на удаленный порт 3389)
- Chisel
### Встроенные инструменты
- Port2Port (нужен, если какой-то порт доступен только на локальном узле. Трафик передаём на внешний порт, потом на локальный), Port2HostNet: https://stepik.org/lesson/964208/step/2?unit=970698
## Туннелирование
## Базы знаний
-  https://book.hacktricks.xyz/generic-methodologies-and-resources/tunneling-and-port-forwarding
- https://artkond.com/2017/03/23/pivoting-guide/
### DNS
-  Поддомены в формате Base32
- Поле "OPCODE"
#### Инструменты
	- DNSCAT2
	- Iodine
### ICMP 
#### Инструменты
- Hans: https://github.com/friedrich/hans
	- `./hans -s 10.1.2.0 -p <password>` (сервер, создание нового tun-устройства и назначение ему IP 10.1.2.1)
	- `./hans -c <server_addess> -p <password>` (клиент, подключение к серверу по адресу "server_addess", создание нового tun-устройства и назначение ему IP из сети 10.1.2.0/24)
## Инструменты
- [Impacket](https://github.com/fortra/impacket/tree/master): набор классов Python для работы с сетевыми протоколами
- [PsExec](https://learn.microsoft.com/ru-ru/sysinternals/downloads/psexec): утилита командной строки в Windows для удаленного выполнения процессов и команд, `psexec \\<computer_name> -u <user> -p <password> <command>`
## Получение доступа в другие сети
- Необходимо проверь каждую систему, к которой есть доступ, чтобы убедиться, что у нее есть две или более сетевых карт, настроенных с отдельным IP-­адресом. Системы такого типа часто являются «мостом» в новую подсеть, к которой, воз- можно, не было доступа раньше, данный хост можно использовать в качестве прокси-­сервера в новую подсеть. 